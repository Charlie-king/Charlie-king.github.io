# hugoåšå®¢å¼€å¯valineè¯„è®ºç³»ç»Ÿé…ç½®


<!--more-->

{{< admonition tip "valineè¯„è®ºè®¾ç½®" >}}
ç”¨hugoæ­å»ºçš„åšå®¢ï¼Œé‡‡ç”¨fixItä¸»é¢˜ï¼ˆé­”æ”¹äºloveitï¼‰ï¼Œæ”¯æŒå¤šç§è¯„è®ºç³»ç»Ÿè®¾ç½®ã€‚valineè¯„è®ºæ˜¯æ­é…LeanCloudå¹³å°æ¥ä¸€èµ·ä½¿ç”¨çš„ã€‚
{{< /admonition >}}


### [valine](https://valine.js.org/)ç‰¹æ€§

-   å¿«é€Ÿ
-   å®‰å…¨
-   Emoji ğŸ˜‰
-   æ— åç«¯å®ç°
-   MarkDown å…¨è¯­æ³•æ”¯æŒ
-   è½»é‡æ˜“ç”¨
-   [æ–‡ç« é˜…è¯»é‡ç»Ÿè®¡](https://valine.js.org/visitor.html)Â `v1.2.0+`

### LeanCloudä»‹ç»
LeanCloudï¼ˆåŸ AVOS Cloudï¼‰ æ˜¯é’ˆå¯¹ç§»åŠ¨åº”ç”¨çš„ä¸€ç«™å¼äº‘ç«¯æœåŠ¡ï¼Œä¸“æ³¨äºä¸ºåº”ç”¨å¼€å‘è€…æä¾›å·¥å…·å’Œå¹³å°ã€‚æä¾›åŒ…æ‹¬**LeanStorage æ•°æ®å­˜å‚¨ã€LeanMessage é€šä¿¡æœåŠ¡ã€LeanAnalytics ç»Ÿè®¡åˆ†æã€LeanModules æ‹“å±•æ¨¡å—**ç­‰å››å¤§ç±»å‹çš„åç«¯äº‘æœåŠ¡ï¼ŒåŠ é€Ÿåº”ç”¨å¼€å‘ã€‚

è¿™é‡Œä»¥valineä¸ºä¾‹è®²è§£ä¸€ä¸‹å¦‚ä½•é…ç½®ï¼Œå…¶ä½™åšå®¢è¯¸å¦‚hexoç­‰ï¼Œéƒ½æ˜¯å¤§åŒå°å¼‚ã€‚

**ä¸»è¦æ­¥éª¤åˆ†ä¸ºä¸¤æ­¥ï¼š**

1.  leancloudæ³¨å†Œè·å–IDå’Œkey
2. `config.toml`é…ç½®æ–‡ä»¶é…ç½®å‚æ•° 


### leancloudè·å–APP ID ï¼ŒAPP Keyï¼ŒæœåŠ¡å™¨åœ°å€
1. **æ³¨å†Œleancloud**ï¼Œå›½é™…ç‰ˆå’Œå›½å†…ç‰ˆï¼ˆåä¸œåŒº/ååŒ—åŒºï¼‰å¯é€‰ï¼Œè´¦æˆ·ä¸äº’é€šçš„ï¼Œå›½é™…ç‰ˆä¸éœ€è¦å®åï¼Œç»‘å®šåŸŸåä¹Ÿä¸éœ€è¦å¤‡æ¡ˆã€‚å»ºè®®é€‰å›½é™…ç‰ˆã€‚
2. åˆ›å»ºä¸€ä¸ªåº”ç”¨ï¼Œ`å¼€å‘ç‰ˆ`å¤Ÿç”¨ï¼Œåç§°éšæ„ã€‚
![](https://s3.bmp.ovh/imgs/2022/08/23/3c7ae83b11964f52.png)

3. åœ¨`è®¾ç½®`Â >Â `åº”ç”¨`ä¸­å¯æŸ¥çœ‹åˆ° APP IDï¼ŒAPP Keyå’ŒæœåŠ¡å™¨åœ°å€ã€‚

> æ³¨æ„ï¼šæœåŠ¡å™¨åœ°å€è¿™é‡Œæ˜¯é»˜è®¤leancloudæä¾›çš„åŸŸåï¼Œä½†æ˜¯ä»2022å¹´8æœˆ1å·å¼€å§‹ï¼Œè¿™ä¸ªåŸŸåå›½å†…ä¸èƒ½ç›´æ¥è®¿é—®äº†ï¼Œå› æ­¤éœ€è¦ç»‘å®šè‡ªå®šä¹‰apiåŸŸåã€‚æˆ‘åˆšå¥½é‡åˆ°è¿™ä¸ªå‘ï¼ŒåŸæ¥ç”¨çš„æ˜¯é»˜è®¤çš„åŸŸåï¼Œåé¢çªç„¶å‘ç°ä¸èƒ½è¯„è®ºï¼Œä¸€é€šæ“ä½œæ‰å‘ç°è¿™ä¸ªé—®é¢˜ã€‚

![](https://s3.bmp.ovh/imgs/2022/08/23/3f85839cd5f21b2d.png)

4. **ç»‘å®šåŸŸå**

	è¿™é‡Œåªå¼€é€šè¯„è®ºçš„è¯ï¼Œæ¥3æ­¥éª¤ç»‘å®šapiåŸŸåå³å¯ï¼Œç„¶åå»åŸŸåç®¡ç†ä¸­å¿ƒæ·»åŠ ä¸€æ¡cnameæŒ‡å‘å®ƒè¿™é‡Œçš„åŸŸåï¼Œæ·»åŠ å¥½åä¼šæ˜¾ç¤ºéƒ¨ç½²è¯ä¹¦ï¼Œåå‡ åˆ†é’Ÿåç”Ÿæ•ˆï¼Œæç¤ºå·²ç»‘å®šã€‚

	å†å»**åº”ç”¨å‡­è¯**é‚£é‡Œå¯ä»¥çœ‹åˆ°æœåŠ¡å™¨åœ°å€æ›´æ–°ä¸ºä½ åˆšç»‘å®šçš„apiåŸŸåã€‚

![](https://s3.bmp.ovh/imgs/2022/08/23/2e9ebace344ddb15.png)


5. **å¡«å†™å®‰å…¨åŸŸå**
å¡«å†™`åº”ç”¨`Â >Â `è®¾ç½®`Â >Â `å®‰å…¨è®¾ç½®`ä¸­çš„ Web å®‰å…¨åŸŸåã€‚æŠŠä½ çš„åšå®¢åŸŸåæ·»åŠ ä¸Šå»ã€‚

ç”±äº App ID å’Œ App Key æ˜¯å®Œå…¨æš´éœ²çš„ï¼Œä»»ä½•äººéƒ½å¯ä»¥è®¿é—®æˆ‘ä»¬çš„èµ„æºã€‚ä¸ºäº†é˜²æ­¢ä»–äººä½¿ç”¨ï¼Œæˆ‘ä»¬éœ€è¦é…ç½® Web å®‰å…¨åŸŸåï¼Œåªæœ‰æ·»åŠ çš„åŸŸåæ‰å¯ä»¥ä½¿ç”¨èµ„æºã€‚
![](https://s3.bmp.ovh/imgs/2022/08/23/6d6eff52af936782.png)

### config.tomlé…ç½®

å°†ä¸Šé¢æ­¥éª¤è·å¾—çš„APP IDï¼ŒAPP Keyå’ŒæœåŠ¡å™¨åœ°å€å¡«å…¥ä»¥ä¸‹å¯¹åº”çš„å‚æ•°ä½ç½®ã€‚

~~~toml
#ä»¥ä¸‹é…ç½®ä¸º loveitï¼ŒfixItä¸»é¢˜ä¸‹çš„configé…ç½®

[params.page.comment.valine]

appId = "å¡«å†™leancloudé‡Œçš„APP ID"  #å‚çœ‹ä¸Šé¢æ­¥éª¤

appKey = "å¡«å†™leancloudé‡Œçš„APP Key"  #å‚çœ‹ä¸Šé¢æ­¥éª¤

avatar = "monsterid" #è¯„è®ºè€…gravatarå¤´åƒï¼Œå‚çœ‹å…¨çƒå¤´åƒé‚£ç¯‡æ–‡ç« 

enable = true

enableQQ = true  

highlight = true

lang = "zh-CN"  

meta = ['nick', 'mail', 'link']  #è¯„è®ºæ˜µç§°ï¼Œé‚®ä»¶ï¼Œé“¾æ¥ä¸‰ä¸ªæ¨¡å—

pageSize = 10 

placeholder = "æ¬¢è¿äº¤æµï¼åŒ¿åæ˜µç§°ç•™ç©ºå³å¯ï¼Œå·²å¼€å¯é‚®ç®±ç•™è¨€è‡ªåŠ¨é€šçŸ¥æé†’ã€‚" #è¯„è®ºåŒºæé†’æ–‡å­—

recordIP = true  #æ˜¯å¦è®°å½•ip

serverURLs = "å¡«å†™leancloudé‡Œçš„æœåŠ¡å™¨åœ°å€"  #å‚çœ‹ä¸Šé¢æ­¥éª¤

visitor = false  #æ˜¯å¦å¼€å¯è®¿é—®é‡ç»Ÿè®¡

# Â emoji æ•°æ®æ–‡ä»¶åç§°ï¼Œé»˜è®¤æ˜¯ "google.yml"

# ("apple.yml", "google.yml", "facebook.yml", "twitter.yml")

# ä½äº "themes/FixIt/assets/data/emoji/" ç›®å½•

# å¯ä»¥åœ¨ä½ çš„é¡¹ç›®ä¸‹ç›¸åŒè·¯å¾„å­˜æ”¾ä½ è‡ªå·±çš„æ•°æ®æ–‡ä»¶ï¼š

# "assets/data/emoji/"

commentCount = true #è¯„è®ºç»Ÿè®¡

emoji = ""  # emojiè¡¨æƒ…


~~~


é…ç½®å

è®°å¾—åœ¨æ–‡ç« çš„å‰ç½®å‚æ•°é‡ŒæŠŠ`comment`æ”¹ä¸ºtrueã€‚
``` toml
title: "valineè¯„è®ºç³»ç»Ÿé…ç½®"
subtitle: ""
date: 2022-08-22T11:15:06+08:00

author: "Kingpo"
authorLink: ""
authorEmail: ""
description: ""
keywords: ""
comment: true  #è¯„è®ºå¼€å¯
weight: 0
```


è¿è¡Œæ•ˆæœå¦‚ä¸‹ï¼š
![](https://s3.bmp.ovh/imgs/2022/08/23/fca811ded03ff90f.png)


è‡³æ­¤ï¼Œè¯„è®ºåŠŸèƒ½å·²ç»å¼€å¯ã€‚

å¯ä»¥è¿›è¡Œè¯„è®ºäº†ï¼Œè¿™é‡Œæ²¡åšé™åˆ¶ï¼Œä»»ä½•äººå‡å¯ç•™è¨€ï¼Œæ˜µç§°æˆ–é‚®ç®±ï¼Œç½‘å€ç•™æˆ–ä¸ç•™å‡å¯ã€‚

valineæ— åç«¯ï¼Œé‚£ä¹ˆè¯„è®ºçš„æ•°æ®åœ¨å“ªé‡Œç®¡ç†å‘¢ã€‚

ç­”æ¡ˆæ˜¯åœ¨leancloudå¹³å°ä¸Šï¼Œè¯„è®ºæ•°æ®éƒ½ä¼šå­˜å‚¨åœ¨åä¸ºÂ `Comment`Â çš„ Class ä¸­ï¼Œéœ€è¦è‡ªè¡Œç™»é™†Â `LeanCloud åº”ç”¨`Â ç®¡ç†ã€‚

è¿›å…¥ä½ çš„`åº”ç”¨`Â >Â `å­˜å‚¨`Â >Â `Comment`ï¼Œä¹‹åä½ å¯ä»¥å¯¹æ‰€æœ‰è¯„è®ºè¿›è¡Œæ“ä½œã€‚
![](https://s3.bmp.ovh/imgs/2022/08/23/4f0de8a3925b9f55.png)

----------
**å¦‚æœæƒ³è¦è¯„è®ºæ•°æ®åç«¯ç®¡ç†ï¼Œå¹¶å¼€å¯å®æ—¶é‚®ä»¶é€šçŸ¥ï¼Œå‚çœ‹æˆ‘è¿™ç¯‡**[valineè¯„è®ºè®¾ç½®é‚®ä»¶é€šçŸ¥å’Œvaline-adminåå°ç®¡ç†](/posts/202208/æŠ€æœ¯valineè¯„è®ºè®¾ç½®é‚®ä»¶é€šçŸ¥å’Œvaline-adminåå°ç®¡ç†/)


----------
æˆ‘çš„åšå®¢å³å°†åŒæ­¥è‡³è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒºï¼Œé‚€è¯·å¤§å®¶ä¸€åŒå…¥é©»ï¼š(https://cloud.tencent.com/developer/support-plan?invite_code=2rznedmkkuww8)

---

> ä½œè€…: Kingpo  
> URL: https://ttzz.eu.org/posts/2022-08-22-opens-comment-system/  

