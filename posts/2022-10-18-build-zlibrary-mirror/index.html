<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=zh-CN><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=2"><meta name=robots content="noodp"><title>2分钟免费自建你的专属z-library镜像站，找书没烦恼 - 六月长河</title><meta name=author content="Kingpo">
<meta name=author-link content><meta name=description content="通过cloudflare搭建z-library镜像站"><meta name=keywords content='z-library,cloudflare,z-library镜像站'><meta itemprop=name content="2分钟免费自建你的专属z-library镜像站，找书没烦恼"><meta itemprop=description content="通过cloudflare搭建z-library镜像站"><meta itemprop=datePublished content="2022-10-18T16:44:42+08:00"><meta itemprop=dateModified content="2022-11-02T22:44:42+08:00"><meta itemprop=wordCount content="1676"><meta itemprop=image content="https://hugo.111520.xyz/logo.png"><meta itemprop=keywords content="cloudflare,book,"><meta property="og:title" content="2分钟免费自建你的专属z-library镜像站，找书没烦恼"><meta property="og:description" content="通过cloudflare搭建z-library镜像站"><meta property="og:type" content="article"><meta property="og:url" content="https://hugo.111520.xyz/posts/2022-10-18-build-zlibrary-mirror/"><meta property="og:image" content="https://hugo.111520.xyz/logo.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-10-18T16:44:42+08:00"><meta property="article:modified_time" content="2022-11-02T22:44:42+08:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://hugo.111520.xyz/logo.png"><meta name=twitter:title content="2分钟免费自建你的专属z-library镜像站，找书没烦恼"><meta name=twitter:description content="通过cloudflare搭建z-library镜像站"><meta name=application-name content="六月长河"><meta name=apple-mobile-web-app-title content="六月长河"><meta name=theme-color data-light=#ffffff data-dark=#252627 content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://hugo.111520.xyz/posts/2022-10-18-build-zlibrary-mirror/><link rel=prev href=https://hugo.111520.xyz/posts/2022-10-09-hiking/><link rel=next href=https://hugo.111520.xyz/posts/2022-11-17-qq-file-download/><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"2分钟免费自建你的专属z-library镜像站，找书没烦恼","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/hugo.111520.xyz\/posts\/2022-10-18-build-zlibrary-mirror\/"},"image":["https:\/\/hugo.111520.xyz\/site-meta.jpg"],"genre":"posts","keywords":"cloudflare, book","wordcount":1676,"url":"https:\/\/hugo.111520.xyz\/posts\/2022-10-18-build-zlibrary-mirror\/","datePublished":"2022-10-18T16:44:42+08:00","dateModified":"2022-11-02T22:44:42+08:00","publisher":{"@type":"Organization","name":"Kingpo","logo":"https:\/\/hugo.111520.xyz\/images\/avatar.png"},"author":{"@type":"Person","name":"Kingpo"},"description":"通过cloudflare搭建z-library镜像站"}</script></head><body data-header-desktop=sticky data-header-mobile=auto><script>(window.localStorage?.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("data-theme","dark")</script><div class=wrapper><header class="desktop animate__faster" id=header-desktop><div class=header-wrapper data-github-corner=right><div class=header-title><a href=/ title=六月长河><span class=header-title-text>六月长河</span></a><span class=header-subtitle></span></div><nav><ul class=menu><li class="menu-item text-center"><a class=menu-link href=/posts/ title=所有文章><i class='fas fa-archive fa-fw fa-sm'></i> 文章</a></li><li class="menu-item text-center"><a class=menu-link href=/categories/><i class='fas fa-th fa-fw fa-sm'></i> 分类</a></li><li class="menu-item text-center"><a class=menu-link href=/tags/><i class='fas fa-tags fa-fw fa-sm'></i> 标签</a></li><li class="menu-item text-center"><a class=menu-link href=/friends/><i class='fas fa-users fa-fw fa-sm'></i> 友链</a></li><li class="menu-item text-center"><a class=menu-link href=/about/><i class='fas fa-user-tie fa-fw fa-sm'></i> 关于</a></li><li class="menu-item text-center"><a class=menu-link href=/tool/><i class='fas fa-cube fa-fw fa-sm'></i> 工具箱</a></li><li class="menu-item delimiter"></li><li class="menu-item search" id=search-desktop><input type=text placeholder="搜索文章标题或内容 ..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=搜索><i class="fa-solid fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=清空><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-desktop><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></li><li class="menu-item theme-switch" title><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></li></ul></nav></div></header><header class="mobile animate__faster" id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title=六月长河><span class=header-title-text>六月长河</span></a><span class=header-subtitle></span></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><nav><ul class=menu id=menu-mobile><li class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="搜索文章标题或内容 ..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=搜索><i class="fa-solid fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=清空><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-mobile><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>取消</a></li><li class="menu-item text-center"><a class=menu-link href=/posts/ title=所有文章><i class='fas fa-archive fa-fw fa-sm'></i> 文章</a></li><li class="menu-item text-center"><a class=menu-link href=/categories/><i class='fas fa-th fa-fw fa-sm'></i> 分类</a></li><li class="menu-item text-center"><a class=menu-link href=/tags/><i class='fas fa-tags fa-fw fa-sm'></i> 标签</a></li><li class="menu-item text-center"><a class=menu-link href=/friends/><i class='fas fa-users fa-fw fa-sm'></i> 友链</a></li><li class="menu-item text-center"><a class=menu-link href=/about/><i class='fas fa-user-tie fa-fw fa-sm'></i> 关于</a></li><li class="menu-item text-center"><a class=menu-link href=/tool/><i class='fas fa-cube fa-fw fa-sm'></i> 工具箱</a></li><li class="menu-item theme-switch" title><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></li></ul></nav></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=container data-page-style=narrow><aside class=toc id=toc-auto><h2 class=toc-title>目录&nbsp;<i class="toc-icon fa-solid fa-angle-down fa-fw" aria-hidden=true></i></h2><div class=toc-content id=toc-content-auto></div></aside><aside class=aside-custom></aside><article class="page single"><div class=header><h1 class="single-title animate__animated animate__flipInX"><span>2分钟免费自建你的专属z-library镜像站，找书没烦恼</span></h1></div><div class=post-meta><div class=post-meta-line><span class=post-author><span class=author><img class="lazyload avatar" src=/svg/loading.min.svg data-src=/images/avatar.png data-srcset="/images/avatar.png, /images/avatar.png 1.5x, /images/avatar.png 2x" data-sizes=auto alt=Kingpo title=Kingpo>&nbsp;Kingpo</span></span>
<span class=post-category>收录于 <a href=/categories/%E5%B7%A5%E5%85%B7/><i class="fa-regular fa-folder fa-fw" aria-hidden=true></i> 工具</a></span></div><div class=post-meta-line><span title="2022-10-18 16:44:42"><i class="fa-regular fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=2022-10-18>2022-10-18</time></span>&nbsp;<span><i class="fa-solid fa-pencil-alt fa-fw" aria-hidden=true></i> 约 1676 字</span>&nbsp;<span><i class="fa-regular fa-clock fa-fw" aria-hidden=true></i> 预计阅读 4 分钟</span>&nbsp;<span id=/posts/2022-10-18-build-zlibrary-mirror/ class="leancloud_visitors comment-visitors" data-flag-title=2分钟免费自建你的专属z-library镜像站，找书没烦恼>
<i class="fa-regular fa-eye fa-fw" aria-hidden=true></i>&nbsp;<span class=leancloud-visitors-count>-</span>&nbsp;次阅读
</span>&nbsp;<span class=comment-count data-flag-title=2分钟免费自建你的专属z-library镜像站，找书没烦恼>
<i class="fa-regular fa-comments fa-fw" aria-hidden=true></i>&nbsp;<span data-xid=/posts/2022-10-18-build-zlibrary-mirror/ class=valine-comment-count>-</span>&nbsp;条评论
</span>&nbsp;</div></div><div class="details toc" id=toc-static data-kept=false><div class="details-summary toc-title"><span>目录</span>
<span><i class="details-icon fa-solid fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#前言>前言</a></li><li><a href=#准备工作>准备工作</a></li><li><a href=#cloudflare配置>cloudflare配置</a></li><li><a href=#其他>其他</a><ul><li><a href=#改ip插件>改ip插件：</a></li></ul></li><li><a href=#参考>参考</a></li></ul></nav></div></div><div class=content id=content><div class="details admonition warning open"><div class="details-summary admonition-title"><i class="icon fa-solid fa-exclamation-triangle fa-fw" aria-hidden=true></i>警告<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>本文最后更新于 2022-11-02，文中内容可能已过时。</div></div></div><h2 id=前言>前言</h2><p>z-library是全球最大的电子书下载站，资源非常丰富。然而地址经常面临被封禁的问题，国内非常容易被墙，官方也在不断地变换地址。除了寻找别人所做的镜像站之外，另一种最方便的，就是自建镜像站。
<img class=lazyload src=/svg/loading.min.svg data-src=https://s.imgkb.xyz/abcdocker/2022/10/18/08f91edc7aed9/08f91edc7aed9.png data-srcset="https://s.imgkb.xyz/abcdocker/2022/10/18/08f91edc7aed9/08f91edc7aed9.png, https://s.imgkb.xyz/abcdocker/2022/10/18/08f91edc7aed9/08f91edc7aed9.png 1.5x, https://s.imgkb.xyz/abcdocker/2022/10/18/08f91edc7aed9/08f91edc7aed9.png 2x" data-sizes=auto alt=https://s.imgkb.xyz/abcdocker/2022/10/18/08f91edc7aed9/08f91edc7aed9.png title=https://s.imgkb.xyz/abcdocker/2022/10/18/08f91edc7aed9/08f91edc7aed9.png></p><p>今天实操自建一个z-library的镜像站，摆脱被墙困扰，实现免翻下载。</p><h2 id=准备工作>准备工作</h2><ol><li>一个自己的域名，可以申请免费域名。</li><li>一个cloudflare账号，DNS解析托管到cloudflare。</li></ol><h2 id=cloudflare配置>cloudflare配置</h2><ol><li><p>登录cloudflare管理台后，选择worker，创建一个服务
<img class=lazyload src=/svg/loading.min.svg data-src=https://s.imgkb.xyz/abcdocker/2022/11/02/64a01ee72d700/64a01ee72d700.png data-srcset="https://s.imgkb.xyz/abcdocker/2022/11/02/64a01ee72d700/64a01ee72d700.png, https://s.imgkb.xyz/abcdocker/2022/11/02/64a01ee72d700/64a01ee72d700.png 1.5x, https://s.imgkb.xyz/abcdocker/2022/11/02/64a01ee72d700/64a01ee72d700.png 2x" data-sizes=auto alt=https://s.imgkb.xyz/abcdocker/2022/11/02/64a01ee72d700/64a01ee72d700.png title=https://s.imgkb.xyz/abcdocker/2022/11/02/64a01ee72d700/64a01ee72d700.png></p></li><li><p>选择http处理程序，服务名称你自定。这个服务名称xxx就是你这个cloudflare给你生成的三级域名，下面有行提示：您的服务将被部署到：https://xxx.aaaa.workers.dev，aaaa这里是你整个worker里定义名称。不过现在cloudflare提供的这个域名国内都被墙了，所以用不上，这也是我们要准备自己一个域名的原因。
<img class=lazyload src=/svg/loading.min.svg data-src=https://s.imgkb.xyz/abcdocker/2022/11/02/1c2b93d3d6df0/1c2b93d3d6df0.png data-srcset="https://s.imgkb.xyz/abcdocker/2022/11/02/1c2b93d3d6df0/1c2b93d3d6df0.png, https://s.imgkb.xyz/abcdocker/2022/11/02/1c2b93d3d6df0/1c2b93d3d6df0.png 1.5x, https://s.imgkb.xyz/abcdocker/2022/11/02/1c2b93d3d6df0/1c2b93d3d6df0.png 2x" data-sizes=auto alt=https://s.imgkb.xyz/abcdocker/2022/11/02/1c2b93d3d6df0/1c2b93d3d6df0.png title=https://s.imgkb.xyz/abcdocker/2022/11/02/1c2b93d3d6df0/1c2b93d3d6df0.png></p></li><li><p>创建完服务，进来点击【资源】&ndash;快速编辑，将下面代码替换原有代码，保存。
<img class=lazyload src=/svg/loading.min.svg data-src=https://s.imgkb.xyz/abcdocker/2022/11/02/de3fef8bb7173/de3fef8bb7173.png data-srcset="https://s.imgkb.xyz/abcdocker/2022/11/02/de3fef8bb7173/de3fef8bb7173.png, https://s.imgkb.xyz/abcdocker/2022/11/02/de3fef8bb7173/de3fef8bb7173.png 1.5x, https://s.imgkb.xyz/abcdocker/2022/11/02/de3fef8bb7173/de3fef8bb7173.png 2x" data-sizes=auto alt=https://s.imgkb.xyz/abcdocker/2022/11/02/de3fef8bb7173/de3fef8bb7173.png title=https://s.imgkb.xyz/abcdocker/2022/11/02/de3fef8bb7173/de3fef8bb7173.png></p></li></ol><p><img class=lazyload src=/svg/loading.min.svg data-src=https://s.imgkb.xyz/abcdocker/2022/11/02/726c961b3870d/726c961b3870d.png data-srcset="https://s.imgkb.xyz/abcdocker/2022/11/02/726c961b3870d/726c961b3870d.png, https://s.imgkb.xyz/abcdocker/2022/11/02/726c961b3870d/726c961b3870d.png 1.5x, https://s.imgkb.xyz/abcdocker/2022/11/02/726c961b3870d/726c961b3870d.png 2x" data-sizes=auto alt=https://s.imgkb.xyz/abcdocker/2022/11/02/726c961b3870d/726c961b3870d.png title=https://s.imgkb.xyz/abcdocker/2022/11/02/726c961b3870d/726c961b3870d.png></p><p><strong>覆盖添加的代码如下：</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span><span class=lnt>122
</span><span class=lnt>123
</span><span class=lnt>124
</span><span class=lnt>125
</span><span class=lnt>126
</span><span class=lnt>127
</span><span class=lnt>128
</span><span class=lnt>129
</span><span class=lnt>130
</span><span class=lnt>131
</span><span class=lnt>132
</span><span class=lnt>133
</span><span class=lnt>134
</span><span class=lnt>135
</span><span class=lnt>136
</span><span class=lnt>137
</span><span class=lnt>138
</span><span class=lnt>139
</span><span class=lnt>140
</span><span class=lnt>141
</span><span class=lnt>142
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 你要镜像的网站.
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>upstream</span> <span class=o>=</span> <span class=s1>&#39;zh.zlibrary.org&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 镜像网站的目录，比如你想镜像某个网站的二级目录则填写二级目录的目录名，镜像 google 用不到，默认即可.
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>upstream_path</span> <span class=o>=</span> <span class=s1>&#39;/&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 镜像站是否有手机访问专用网址，没有则填一样的.
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>upstream_mobile</span> <span class=o>=</span> <span class=s1>&#39;zh.1lib.education&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 屏蔽国家和地区.
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>blocked_region</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;KP&#39;</span><span class=p>,</span> <span class=s1>&#39;SY&#39;</span><span class=p>,</span> <span class=s1>&#39;PK&#39;</span><span class=p>,</span> <span class=s1>&#39;CU&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 屏蔽 IP 地址.
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>blocked_ip_address</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;0.0.0.0&#39;</span><span class=p>,</span> <span class=s1>&#39;127.0.0.1&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 镜像站是否开启 HTTPS.
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>https</span> <span class=o>=</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 文本替换.
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>replace_dict</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;$upstream&#39;</span><span class=o>:</span> <span class=s1>&#39;$custom_domain&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 以下保持默认，不要动
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>addEventListener</span><span class=p>(</span><span class=s1>&#39;fetch&#39;</span><span class=p>,</span> <span class=nx>event</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>event</span><span class=p>.</span><span class=nx>respondWith</span><span class=p>(</span><span class=nx>fetchAndApply</span><span class=p>(</span><span class=nx>event</span><span class=p>.</span><span class=nx>request</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>async</span> <span class=kd>function</span> <span class=nx>fetchAndApply</span><span class=p>(</span><span class=nx>request</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>region</span> <span class=o>=</span> <span class=nx>request</span><span class=p>.</span><span class=nx>headers</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;cf-ipcountry&#39;</span><span class=p>).</span><span class=nx>toUpperCase</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>ip_address</span> <span class=o>=</span> <span class=nx>request</span><span class=p>.</span><span class=nx>headers</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;cf-connecting-ip&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>user_agent</span> <span class=o>=</span> <span class=nx>request</span><span class=p>.</span><span class=nx>headers</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;user-agent&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>response</span> <span class=o>=</span> <span class=kc>null</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>url</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>URL</span><span class=p>(</span><span class=nx>request</span><span class=p>.</span><span class=nx>url</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>url_hostname</span> <span class=o>=</span> <span class=nx>url</span><span class=p>.</span><span class=nx>hostname</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nx>https</span> <span class=o>==</span> <span class=kc>true</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>url</span><span class=p>.</span><span class=nx>protocol</span> <span class=o>=</span> <span class=s1>&#39;https:&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>url</span><span class=p>.</span><span class=nx>protocol</span> <span class=o>=</span> <span class=s1>&#39;http:&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=kr>await</span> <span class=nx>device_status</span><span class=p>(</span><span class=nx>user_agent</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kd>var</span> <span class=nx>upstream_domain</span> <span class=o>=</span> <span class=nx>upstream</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kd>var</span> <span class=nx>upstream_domain</span> <span class=o>=</span> <span class=nx>upstream_mobile</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>url</span><span class=p>.</span><span class=nx>host</span> <span class=o>=</span> <span class=nx>upstream_domain</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nx>url</span><span class=p>.</span><span class=nx>pathname</span> <span class=o>==</span> <span class=s1>&#39;/&#39;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>url</span><span class=p>.</span><span class=nx>pathname</span> <span class=o>=</span> <span class=nx>upstream_path</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>url</span><span class=p>.</span><span class=nx>pathname</span> <span class=o>=</span> <span class=nx>upstream_path</span> <span class=o>+</span> <span class=nx>url</span><span class=p>.</span><span class=nx>pathname</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nx>blocked_region</span><span class=p>.</span><span class=nx>includes</span><span class=p>(</span><span class=nx>region</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>response</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Response</span><span class=p>(</span><span class=s1>&#39;Access denied: WorkersProxy is not available in your region yet.&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>status</span><span class=o>:</span> <span class=mi>403</span>
</span></span><span class=line><span class=cl>        <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=nx>blocked_ip_address</span><span class=p>.</span><span class=nx>includes</span><span class=p>(</span><span class=nx>ip_address</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>response</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Response</span><span class=p>(</span><span class=s1>&#39;Access denied: Your IP address is blocked by WorkersProxy.&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>status</span><span class=o>:</span> <span class=mi>403</span>
</span></span><span class=line><span class=cl>        <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kd>let</span> <span class=nx>method</span> <span class=o>=</span> <span class=nx>request</span><span class=p>.</span><span class=nx>method</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kd>let</span> <span class=nx>request_headers</span> <span class=o>=</span> <span class=nx>request</span><span class=p>.</span><span class=nx>headers</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kd>let</span> <span class=nx>new_request_headers</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Headers</span><span class=p>(</span><span class=nx>request_headers</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=nx>new_request_headers</span><span class=p>.</span><span class=nx>set</span><span class=p>(</span><span class=s1>&#39;Host&#39;</span><span class=p>,</span> <span class=nx>url</span><span class=p>.</span><span class=nx>hostname</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>new_request_headers</span><span class=p>.</span><span class=nx>set</span><span class=p>(</span><span class=s1>&#39;Referer&#39;</span><span class=p>,</span> <span class=nx>url</span><span class=p>.</span><span class=nx>hostname</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=kd>let</span> <span class=nx>original_response</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>fetch</span><span class=p>(</span><span class=nx>url</span><span class=p>.</span><span class=nx>href</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>method</span><span class=o>:</span> <span class=nx>method</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>headers</span><span class=o>:</span> <span class=nx>new_request_headers</span>
</span></span><span class=line><span class=cl>        <span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=kd>let</span> <span class=nx>original_response_clone</span> <span class=o>=</span> <span class=nx>original_response</span><span class=p>.</span><span class=nx>clone</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=kd>let</span> <span class=nx>original_text</span> <span class=o>=</span> <span class=kc>null</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kd>let</span> <span class=nx>response_headers</span> <span class=o>=</span> <span class=nx>original_response</span><span class=p>.</span><span class=nx>headers</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kd>let</span> <span class=nx>new_response_headers</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Headers</span><span class=p>(</span><span class=nx>response_headers</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=kd>let</span> <span class=nx>status</span> <span class=o>=</span> <span class=nx>original_response</span><span class=p>.</span><span class=nx>status</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=nx>new_response_headers</span><span class=p>.</span><span class=nx>set</span><span class=p>(</span><span class=s1>&#39;access-control-allow-origin&#39;</span><span class=p>,</span> <span class=s1>&#39;*&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>new_response_headers</span><span class=p>.</span><span class=nx>set</span><span class=p>(</span><span class=s1>&#39;access-control-allow-credentials&#39;</span><span class=p>,</span> <span class=kc>true</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>new_response_headers</span><span class=p>.</span><span class=k>delete</span><span class=p>(</span><span class=s1>&#39;content-security-policy&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>new_response_headers</span><span class=p>.</span><span class=k>delete</span><span class=p>(</span><span class=s1>&#39;content-security-policy-report-only&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>new_response_headers</span><span class=p>.</span><span class=k>delete</span><span class=p>(</span><span class=s1>&#39;clear-site-data&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>content_type</span> <span class=o>=</span> <span class=nx>new_response_headers</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;content-type&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=nx>content_type</span><span class=p>.</span><span class=nx>includes</span><span class=p>(</span><span class=s1>&#39;text/html&#39;</span><span class=p>)</span> <span class=o>&amp;&amp;</span> <span class=nx>content_type</span><span class=p>.</span><span class=nx>includes</span><span class=p>(</span><span class=s1>&#39;UTF-8&#39;</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>original_text</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>replace_response_text</span><span class=p>(</span><span class=nx>original_response_clone</span><span class=p>,</span> <span class=nx>upstream_domain</span><span class=p>,</span> <span class=nx>url_hostname</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>original_text</span> <span class=o>=</span> <span class=nx>original_response_clone</span><span class=p>.</span><span class=nx>body</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=nx>response</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Response</span><span class=p>(</span><span class=nx>original_text</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>status</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>headers</span><span class=o>:</span> <span class=nx>new_response_headers</span>
</span></span><span class=line><span class=cl>        <span class=p>})</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>response</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>async</span> <span class=kd>function</span> <span class=nx>replace_response_text</span><span class=p>(</span><span class=nx>response</span><span class=p>,</span> <span class=nx>upstream_domain</span><span class=p>,</span> <span class=nx>host_name</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>text</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>response</span><span class=p>.</span><span class=nx>text</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>i</span><span class=p>,</span> <span class=nx>j</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=nx>i</span> <span class=k>in</span> <span class=nx>replace_dict</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>j</span> <span class=o>=</span> <span class=nx>replace_dict</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=nx>i</span> <span class=o>==</span> <span class=s1>&#39;$upstream&#39;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>i</span> <span class=o>=</span> <span class=nx>upstream_domain</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=nx>i</span> <span class=o>==</span> <span class=s1>&#39;$custom_domain&#39;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>i</span> <span class=o>=</span> <span class=nx>host_name</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=nx>j</span> <span class=o>==</span> <span class=s1>&#39;$upstream&#39;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>j</span> <span class=o>=</span> <span class=nx>upstream_domain</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=nx>j</span> <span class=o>==</span> <span class=s1>&#39;$custom_domain&#39;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>j</span> <span class=o>=</span> <span class=nx>host_name</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=kd>let</span> <span class=nx>re</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>RegExp</span><span class=p>(</span><span class=nx>i</span><span class=p>,</span> <span class=s1>&#39;g&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nx>text</span> <span class=o>=</span> <span class=nx>text</span><span class=p>.</span><span class=nx>replace</span><span class=p>(</span><span class=nx>re</span><span class=p>,</span> <span class=nx>j</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>text</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>async</span> <span class=kd>function</span> <span class=nx>device_status</span><span class=p>(</span><span class=nx>user_agent_info</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>agents</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&#34;Android&#34;</span><span class=p>,</span> <span class=s2>&#34;iPhone&#34;</span><span class=p>,</span> <span class=s2>&#34;SymbianOS&#34;</span><span class=p>,</span> <span class=s2>&#34;Windows Phone&#34;</span><span class=p>,</span> <span class=s2>&#34;iPad&#34;</span><span class=p>,</span> <span class=s2>&#34;iPod&#34;</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>flag</span> <span class=o>=</span> <span class=kc>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=kd>var</span> <span class=nx>v</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>v</span> <span class=o>&lt;</span> <span class=nx>agents</span><span class=p>.</span><span class=nx>length</span><span class=p>;</span> <span class=nx>v</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=nx>user_agent_info</span><span class=p>.</span><span class=nx>indexOf</span><span class=p>(</span><span class=nx>agents</span><span class=p>[</span><span class=nx>v</span><span class=p>])</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>flag</span> <span class=o>=</span> <span class=kc>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>flag</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><ol start=5><li>回到【触发器】&ndash;添加自定义域，添加自己的域名，这个域名需要先托管到cloudflare上。
<img class=lazyload src=/svg/loading.min.svg data-src=https://s.imgkb.xyz/abcdocker/2022/11/02/09cb6d3997412/09cb6d3997412.png data-srcset="https://s.imgkb.xyz/abcdocker/2022/11/02/09cb6d3997412/09cb6d3997412.png, https://s.imgkb.xyz/abcdocker/2022/11/02/09cb6d3997412/09cb6d3997412.png 1.5x, https://s.imgkb.xyz/abcdocker/2022/11/02/09cb6d3997412/09cb6d3997412.png 2x" data-sizes=auto alt=https://s.imgkb.xyz/abcdocker/2022/11/02/09cb6d3997412/09cb6d3997412.png title=https://s.imgkb.xyz/abcdocker/2022/11/02/09cb6d3997412/09cb6d3997412.png></li></ol><p>到此，镜像站已经完成，生效时间虽说24小时，实际一般很快，不到1分钟就生效。</p><h2 id=其他>其他</h2><p>这里我们利用cloudflare提供的全球cdn，给我们做了代理。免费用户每天worker里服务可以有10万次请求，对于个人而言完全足够用。</p><p>需要注意，z-library对每个ip未登录用户每天有5次下载限制，如果你建立镜像站后出现过超过限制，很可能是cloudflare的代理ip的下载次数已经被人用完了。怎么解决呢，换个ip即可，或者最方便的找个修改ip的插件就可以继续用了。</p><h3 id=改ip插件>改ip插件：</h3><ul><li><strong>PC浏览器插件（chrome，edge为主，chromium内核系列）：ModHeader。</strong></li></ul><p><strong>使用：</strong> ctrl+shift+h唤起插件，或者可以在插件主页里打开，修改请求头 <code>request headers</code>，选择<code>X-Forwarded-For</code>，后面自定义填写ip，ip在正确的IP地址范围即可 。</p><p><img class=lazyload src=/svg/loading.min.svg data-src=https://s.imgkb.xyz/abcdocker/2022/11/03/aa5c6ae0d05a1/aa5c6ae0d05a1.png data-srcset="https://s.imgkb.xyz/abcdocker/2022/11/03/aa5c6ae0d05a1/aa5c6ae0d05a1.png, https://s.imgkb.xyz/abcdocker/2022/11/03/aa5c6ae0d05a1/aa5c6ae0d05a1.png 1.5x, https://s.imgkb.xyz/abcdocker/2022/11/03/aa5c6ae0d05a1/aa5c6ae0d05a1.png 2x" data-sizes=auto alt=https://s.imgkb.xyz/abcdocker/2022/11/03/aa5c6ae0d05a1/aa5c6ae0d05a1.png title=https://s.imgkb.xyz/abcdocker/2022/11/03/aa5c6ae0d05a1/aa5c6ae0d05a1.png></p><ul><li><strong>安卓手机浏览器插件：</strong> <code>Header Editor</code>，下载安装<a href=https://github.com/fork-maintainers/iceraven-browser target=_blank rel="external nofollow noopener noreferrer">Iceraven 浏览器</a> ，附加组件搜索安装<code>Header Editor</code>，修改请求头，匹配类型填你的域名，执行类型<code>常规</code>，头名称选择<code>X-Forwarded-For</code>，后面自定义填写ip，保存，开启插件即可。</li></ul><p><img class=lazyload src=/svg/loading.min.svg data-src=https://s.imgkb.xyz/abcdocker/2022/11/03/2258d6d08c242/2258d6d08c242.png data-srcset="https://s.imgkb.xyz/abcdocker/2022/11/03/2258d6d08c242/2258d6d08c242.png, https://s.imgkb.xyz/abcdocker/2022/11/03/2258d6d08c242/2258d6d08c242.png 1.5x, https://s.imgkb.xyz/abcdocker/2022/11/03/2258d6d08c242/2258d6d08c242.png 2x" data-sizes=auto alt=https://s.imgkb.xyz/abcdocker/2022/11/03/2258d6d08c242/2258d6d08c242.png title=https://s.imgkb.xyz/abcdocker/2022/11/03/2258d6d08c242/2258d6d08c242.png></p><p>这样你就拥有了自己的z-library镜像站，可以无限制的下载电子书资源了。</p><h2 id=参考>参考</h2><blockquote><p><a href=https://www.axutongxue.top/2022/09/8zlibrary.html target=_blank rel="external nofollow noopener noreferrer">https://www.axutongxue.top/2022/09/8zlibrary.html</a></p></blockquote><div class=post-promote><input type=checkbox name=promote id=promote hidden>
<label class=promote-button for=promote>关注一下有惊喜</label><div class=qr-code><label class=qr-code-image for=promote><img class=image src=/images/wxqr.png>
<span>公众号</span></label></div></div><div class=post-reward><input type=checkbox name=reward id=reward hidden>
<label class=reward-button for=reward>赞赏支持</label><div class=qr-code><label class=qr-code-image for=reward><img class=image src=/images/wechatpay.png>
<span>微信打赏</span>
</label><label class=qr-code-image for=reward><img class=image src=/images/alipay.png>
<span>支付宝打赏</span></label></div></div></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span title="2022-11-02 22:44:42">更新于 2022-11-02&nbsp;<a class=git-hash href=https://github.com/Charlie-king/hugo-blog/commit/717073520afaf82745a1cdd12cca426583bf1e6a rel="external nofollow noopener noreferrer" target=_blank title="commit by jinbo(zhjin66@qq.com) 717073520afaf82745a1cdd12cca426583bf1e6a: :pencil: 更新文章"><i class="fa-solid fa-hashtag fa-fw" aria-hidden=true></i>7170735</a></span></div><div class=post-info-license><span><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div><div class=post-info-line><div class=post-info-md><span><a href=/posts/2022-10-18-build-zlibrary-mirror/index.md title=阅读原始文档 class=link-to-markdown>阅读原始文档</a></span><span><a href=https://github.com/Charlie-king/hugo-blog/edit/main/content/posts/2022-10-18%20-%20build%20zlibrary%20mirror.md title=编辑此页 target=_blank rel="external nofollow noopener noreferrer" class=link-to-edit>编辑此页</a></span></div><div class=post-info-share><span><a href=javascript:void(0); title="分享到 微博" data-sharer=weibo data-url=https://hugo.111520.xyz/posts/2022-10-18-build-zlibrary-mirror/ data-title=2分钟免费自建你的专属z-library镜像站，找书没烦恼 data-ralateuid=2296265347><i class="fa-brands fa-weibo fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="分享到 百度" data-sharer=baidu data-url=https://hugo.111520.xyz/posts/2022-10-18-build-zlibrary-mirror/ data-title=2分钟免费自建你的专属z-library镜像站，找书没烦恼><i data-svg-src=/lib/simple-icons/icons/baidu.min.svg aria-hidden=true></i></a>
<a href=javascript:void(0); title="分享到 Evernote" data-sharer=evernote data-url=https://hugo.111520.xyz/posts/2022-10-18-build-zlibrary-mirror/ data-title=2分钟免费自建你的专属z-library镜像站，找书没烦恼><i class="fa-brands fa-evernote fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fa-solid fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/cloudflare/>Cloudflare</a>,&nbsp;<a href=/tags/book/>Book</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>返回</a></span>&nbsp;|&nbsp;<span><a href=/>主页</a></span></section></div><div class=post-nav><a href=/posts/2022-10-09-hiking/ class=prev rel=prev title=徒步牛木线><i class="fa-solid fa-angle-left fa-fw" aria-hidden=true></i>徒步牛木线</a>
<a href=/posts/2022-11-17-qq-file-download/ class=next rel=next title=qq群文件的一种快速下载方法>qq群文件的一种快速下载方法<i class="fa-solid fa-angle-right fa-fw" aria-hidden=true></i></a></div></div><div id=comments><div id=valine class=comment></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://valine.js.org/ rel="external nofollow noopener noreferrer">Valine</a>.</noscript></div></article></main><footer class=footer><div class=footer-container><div class="footer-line custom">本站多线部署：
<a href=https://charlie-king.github.io target=_blank>【github】</a>
<a href=https://ttzz.eu.org target=_blank>【cloudflare】</a>
<a href=https://zhjin.eu.org target=_blank>【vercel】</a>
<a href=https://kingpo.netlify.app/ target=_blank>【netlify】</a>
<a href=https://kpo.onrender.com/ target=_blank>【render】</a><br><a href="https://statcounter.com/p12800592/?guest=1" target=_blank>全线路总访问量统计</a>
<script type=text/javascript>var sc_project=12800592,sc_invisible=0,sc_security="6f21fa5b",scJsHost="https://";document.write("<script type='text/javascript' src='"+scJsHost+"statcounter.com/counter/counter.js'><\/script>")</script><noscript><div class=statcounter><a title="Web Analytics
Made Easy - Statcounter" href=https://statcounter.com/ target=_blank><img class=statcounter src=https://c.statcounter.com/12800592/0/6f21fa5b/0/ alt="Web Analytics Made Easy - Statcounter" referrerpolicy=no-referrer-when-downgrade></a></div></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1883399155974911" crossorigin=anonymous></script></div><div class="footer-line copyright" itemscope itemtype=http://schema.org/CreativeWork><i class="fa-regular fa-copyright fa-fw" aria-hidden=true></i>
<span itemprop=copyrightYear>2022 - 2024</span><span class=author itemprop=copyrightHolder>
<a href=/>Kingpo</a></span><span class="license footer-divider"><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div><div class="footer-line statistics"><span class=site-time title=网站已持续运行这么多天啦><i class="fa-solid fa-heartbeat fa-fw animate-icon" aria-hidden=true></i>&nbsp;<span class=run-times>网站已持续运行这么多天啦</span></span></div></div></footer></div><div class=widgets><div class="fixed-buttons animate__faster d-none"><div class="fixed-button back-to-top" role=button aria-label=回到顶部><i class="fa-solid fa-arrow-up fa-fw" aria-hidden=true></i><span class=variant-numeric>0%</span></div><div class="fixed-button view-comments d-none" role=button aria-label=查看评论><i class="fa-solid fa-comment fa-fw" aria-hidden=true></i></div></div><a href=https://github.com/Charlie-king/charlie-king.github.io title="在 GitHub 上查看" target=_blank rel="external nofollow" class="github-corner right d-none-mobile"><svg viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><div id=mask></div><div class=reading-progress-bar style=left:0;top:0;--bg-progress-dark:top></div><noscript><div class=noscript-warning>FixIt 主题在启用 JavaScript 的情况下效果最佳。</div></noscript></div><link rel=stylesheet href=/lib/valine/valine.min.css><link rel=stylesheet href=/lib/lightgallery/css/lightgallery-bundle.min.css><link rel=stylesheet href=/lib/katex/katex.min.css><link rel=stylesheet href=/lib/cookieconsent/cookieconsent.min.css><script src=/lib/valine/Valine.min.js></script><script src=/lib/autocomplete/autocomplete.min.js defer></script><script src=/lib/algoliasearch/algoliasearch-lite.umd.min.js defer></script><script src=/lib/lazysizes/lazysizes.min.js async defer></script><script src=/lib/twemoji/twemoji.min.js defer></script><script src=/lib/lightgallery/lightgallery.min.js defer></script><script src=/lib/lightgallery/plugins/thumbnail/lg-thumbnail.min.js defer></script><script src=/lib/lightgallery/plugins/zoom/lg-zoom.min.js defer></script><script src=/lib/sharer/sharer.min.js async defer></script><script src=/lib/katex/katex.min.js defer></script><script src=/lib/katex/auto-render.min.js defer></script><script src=/lib/katex/copy-tex.min.js defer></script><script src=/lib/katex/mhchem.min.js defer></script><script src=/lib/cookieconsent/cookieconsent.min.js defer></script><script src=/lib/pangu/pangu.min.js defer></script><script>window.config={autoBookmark:!0,code:{copyTitle:"复制到剪贴板",editLockTitle:"锁定可编辑代码块",editUnLockTitle:"解锁可编辑代码块",editable:!0,maxShownLines:20},comment:{enable:!0,valine:{appId:"fBVoqMFU1xet9Og99sfzU2Pu-MdYXbMMI",appKey:"tdTYEKQLqjlE8Mh6tmCs2Vtz",avatar:"monsterid",el:"#valine",emojiCDN:"https://cdn.jsdelivr.net/npm/emoji-datasource-google@14.0.0/img/google/64/",emojiMaps:{100:"1f4af.png",alien:"1f47d.png",anger:"1f4a2.png",angry:"1f620.png",anguished:"1f627.png",astonished:"1f632.png",black_heart:"1f5a4.png",blue_heart:"1f499.png",blush:"1f60a.png",bomb:"1f4a3.png",boom:"1f4a5.png",broken_heart:"1f494.png",brown_heart:"1f90e.png",clown_face:"1f921.png",cold_face:"1f976.png",cold_sweat:"1f630.png",confounded:"1f616.png",confused:"1f615.png",cry:"1f622.png",crying_cat_face:"1f63f.png",cupid:"1f498.png",dash:"1f4a8.png",disappointed:"1f61e.png",disappointed_relieved:"1f625.png",dizzy:"1f4ab.png",dizzy_face:"1f635.png",drooling_face:"1f924.png",exploding_head:"1f92f.png",expressionless:"1f611.png",face_vomiting:"1f92e.png",face_with_cowboy_hat:"1f920.png",face_with_hand_over_mouth:"1f92d.png",face_with_head_bandage:"1f915.png",face_with_monocle:"1f9d0.png",face_with_raised_eyebrow:"1f928.png",face_with_rolling_eyes:"1f644.png",face_with_symbols_on_mouth:"1f92c.png",face_with_thermometer:"1f912.png",fearful:"1f628.png",flushed:"1f633.png",frowning:"1f626.png",ghost:"1f47b.png",gift_heart:"1f49d.png",green_heart:"1f49a.png",grimacing:"1f62c.png",grin:"1f601.png",grinning:"1f600.png",hankey:"1f4a9.png",hear_no_evil:"1f649.png",heart:"2764-fe0f.png",heart_decoration:"1f49f.png",heart_eyes:"1f60d.png",heart_eyes_cat:"1f63b.png",heartbeat:"1f493.png",heartpulse:"1f497.png",heavy_heart_exclamation_mark_ornament:"2763-fe0f.png",hole:"1f573-fe0f.png",hot_face:"1f975.png",hugging_face:"1f917.png",hushed:"1f62f.png",imp:"1f47f.png",innocent:"1f607.png",japanese_goblin:"1f47a.png",japanese_ogre:"1f479.png",joy:"1f602.png",joy_cat:"1f639.png",kiss:"1f48b.png",kissing:"1f617.png",kissing_cat:"1f63d.png",kissing_closed_eyes:"1f61a.png",kissing_heart:"1f618.png",kissing_smiling_eyes:"1f619.png",laughing:"1f606.png",left_speech_bubble:"1f5e8-fe0f.png",love_letter:"1f48c.png",lying_face:"1f925.png",mask:"1f637.png",money_mouth_face:"1f911.png",nauseated_face:"1f922.png",nerd_face:"1f913.png",neutral_face:"1f610.png",no_mouth:"1f636.png",open_mouth:"1f62e.png",orange_heart:"1f9e1.png",partying_face:"1f973.png",pensive:"1f614.png",persevere:"1f623.png",pleading_face:"1f97a.png",pouting_cat:"1f63e.png",purple_heart:"1f49c.png",rage:"1f621.png",relaxed:"263a-fe0f.png",relieved:"1f60c.png",revolving_hearts:"1f49e.png",right_anger_bubble:"1f5ef-fe0f.png",robot_face:"1f916.png",rolling_on_the_floor_laughing:"1f923.png",scream:"1f631.png",scream_cat:"1f640.png",see_no_evil:"1f648.png",shushing_face:"1f92b.png",skull:"1f480.png",skull_and_crossbones:"2620-fe0f.png",sleeping:"1f634.png",sleepy:"1f62a.png",slightly_frowning_face:"1f641.png",slightly_smiling_face:"1f642.png",smile:"1f604.png",smile_cat:"1f638.png",smiley:"1f603.png",smiley_cat:"1f63a.png",smiling_face_with_3_hearts:"1f970.png",smiling_imp:"1f608.png",smirk:"1f60f.png",smirk_cat:"1f63c.png",sneezing_face:"1f927.png",sob:"1f62d.png",space_invader:"1f47e.png",sparkling_heart:"1f496.png",speak_no_evil:"1f64a.png",speech_balloon:"1f4ac.png","star-struck":"1f929.png",stuck_out_tongue:"1f61b.png",stuck_out_tongue_closed_eyes:"1f61d.png",stuck_out_tongue_winking_eye:"1f61c.png",sunglasses:"1f60e.png",sweat:"1f613.png",sweat_drops:"1f4a6.png",sweat_smile:"1f605.png",thinking_face:"1f914.png",thought_balloon:"1f4ad.png",tired_face:"1f62b.png",triumph:"1f624.png",two_hearts:"1f495.png",unamused:"1f612.png",upside_down_face:"1f643.png",weary:"1f629.png",white_frowning_face:"2639-fe0f.png",white_heart:"1f90d.png",wink:"1f609.png",woozy_face:"1f974.png",worried:"1f61f.png",yawning_face:"1f971.png",yellow_heart:"1f49b.png",yum:"1f60b.png",zany_face:"1f92a.png",zipper_mouth_face:"1f910.png",zzz:"1f4a4.png"},enableQQ:!0,highlight:!0,lang:"zh-CN",meta:["nick","mail","link"],pageSize:10,placeholder:"欢迎交流！已开启邮箱留言通知。您所留邮箱信息不会被公开，可第一时间收到回复通知。",recordIP:!0,serverURLs:"https://le.kinpo.eu.org",visitor:!0}},cookieconsent:{content:{dismiss:"同意",link:"了解更多",message:"本网站使用 Cookies 来改善您的浏览体验。"},enable:!0,palette:{button:{background:"#f0f0f0"},popup:{background:"#1aa3ff"}},theme:"edgeless"},enablePWA:!0,enablePangu:!0,lightgallery:!0,math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{algoliaAppID:"B6R922P6DD",algoliaIndex:"dev_hugo",algoliaSearchKey:"65d9478dcc1a7a885ab0286fc7721433",highlightTag:"em",maxResultLength:10,noResultsFound:"没有找到结果",snippetLength:50,type:"algolia"},siteTime:"2022-07-13T19:30:34+08:00",twemoji:!0}</script><script src=/js/theme.min.js defer></script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?7cb809210cfc0651ecb64a362e53bf99",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?2111c670794ab20de2746cf028182bbb",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?3e2c1ee7bae67fc556147b956290102f",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?62f2a79138a93ccdae1fd51bc7f41dc4",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script></body></html>